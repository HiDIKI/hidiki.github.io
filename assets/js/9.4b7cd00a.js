(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{216:function(e,a,_){"use strict";_.r(a);var o=_(0),v=Object(o.a)({},(function(){var e=this,a=e.$createElement,_=e._self._c||a;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"aws-lambda-layer"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#aws-lambda-layer"}},[e._v("#")]),e._v(" * AWS Lambda Layer")]),e._v(" "),_("Author",{attrs:{name:"Tesilio"}}),e._v(" "),_("p",[_("code",[e._v("AWS Lambda Layer")]),e._v("는 라이브러리, 사용자 지정 런타임 또는 그 외 종속성을 포함하는 ZIP 아카이브이다."),_("br"),e._v("\n여러 Lambda 함수에서 공통으로 쓰는 라이브러리 패키지나 모듈이 있다면, "),_("code",[e._v("AWS Lambda Layer")]),e._v("로 구성하는 것이 좋다.\n그러면 배포 패키지를 작게 유지할 수 있어 개발 및 관리가 용이해진다.")]),e._v(" "),_("p",[e._v("몇가지 사용 팁을 알아보자.")]),e._v(" "),_("p",[e._v("그전에,")]),e._v(" "),_("div",{staticClass:"custom-block tip"},[_("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),_("ul",[_("li",[e._v("AWS 계정이 있고, Lambda를 사용해봤던 사람을 대상으로 한다.")]),e._v(" "),_("li",[e._v("Layer를 만드는 방법은 이 포스팅에서 설명하지 않는다. "),_("a",{attrs:{href:"https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/configuration-layers.html#configuration-layers-manage",target:"_blank",rel:"noopener noreferrer"}},[e._v("공식문서"),_("OutboundLink")],1),e._v("를 참조하자.")])])]),e._v(" "),_("hr"),e._v(" "),_("h2",{attrs:{id:"사용하기"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#사용하기"}},[e._v("#")]),e._v(" 사용하기")]),e._v(" "),_("p",[e._v("AWS 콘솔을 이용하거나 AWS CLI를 이용하여 "),_("code",[e._v("zip")]),e._v("으로 압축한 파일을 업로드하면, 해당 "),_("code",[e._v("zip")]),e._v("파일은 "),_("code",[e._v("/opt")]),e._v(" 폴더 하위에 "),_("code",[e._v("unzip")]),e._v(" 된다.\n그럼 Lambda 함수에서 해당 모듈이나 패키지를 불러오려면 어떻게 해야 할까? 절대경로로 불러와도 되지만, 로컬환경이나 개발환경과는 다른 임포트 경로가 될 것이다.")]),e._v(" "),_("p",[_("code",[e._v("NodeJs8.10")]),e._v(" 기준으로 모듈을 불러오는 기본 경로(NODE_PATH)는 아래와 같다.")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("/opt/nodejs/node8/node_modules")])]),e._v(" "),_("li",[_("code",[e._v("/opt/nodejs/node_modules")])]),e._v(" "),_("li",[_("code",[e._v("/var/runtime/node_modules")])]),e._v(" "),_("li",[_("code",[e._v("/var/runtime")])]),e._v(" "),_("li",[_("code",[e._v("/var/task")])]),e._v(" "),_("li",[_("code",[e._v("/var/runtime/node_modules")])])]),e._v(" "),_("p",[e._v("위에 업로드한 "),_("code",[e._v("zip")]),e._v(" 파일이 "),_("code",[e._v("unzip")]),e._v(" 되는 곳이 결국 "),_("code",[e._v("/opt")]),e._v(" 폴더 하위다. 이건 언어나 런타임과 상관없다. "),_("code",[e._v("NodeJs")]),e._v("의 경우엔 "),_("code",[e._v("/opt/nodejs/node8/node_modules")]),e._v(" 와 "),_("code",[e._v("/opt/nodejs/node_modules")]),e._v(" 처럼 폴더구조를 변경하여 압축 후 업로드를 하면, 절대경로를 쓰지 않아도 모듈을 임포트 할 수 있다.")]),e._v(" "),_("h2",{attrs:{id:"제한사항"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#제한사항"}},[e._v("#")]),e._v(" 제한사항")]),e._v(" "),_("ul",[_("li",[e._v("하나의 Lambda 함수당 최대 5개의 Layer를 사용가능하다.")]),e._v(" "),_("li",[e._v("Lambda 함수 및 모든 Layer의 압축되지 않은 총 크기는 250 MB을 초과할 수 없다.")])])],1)}),[],!1,null,null,null);a.default=v.exports}}]);